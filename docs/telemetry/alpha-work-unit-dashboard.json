{
  "version": "1.1.0",
  "title": "α‑WU KPI Flight Deck",
  "description": "Read-only dashboard blueprint exposing acceptance, quality, latency, and yield for alpha work units.",
  "datasources": [
    {
      "type": "prometheus",
      "name": "alpha-node-telemetry",
      "endpoint": "http://alpha-node.local:9464/metrics"
    },
    {
      "type": "subgraph",
      "name": "alpha-wu-subgraph",
      "endpoint": "https://api.thegraph.com/subgraphs/name/agi/alpha-work-units"
    }
  ],
  "widgets": [
    {
      "type": "stat",
      "title": "Acceptance Rate · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_acceptance_rate{window=\"7d\"}",
      "format": "percent",
      "thresholds": {
        "good": 0.9,
        "warn": 0.75
      }
    },
    {
      "type": "stat",
      "title": "Acceptance Rate · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_acceptance_rate{window=\"30d\"}",
      "format": "percent",
      "thresholds": {
        "good": 0.92,
        "warn": 0.78
      }
    },
    {
      "type": "stat",
      "title": "p95 Completion Latency · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_on_time_p95_seconds{window=\"7d\"}",
      "format": "duration"
    },
    {
      "type": "stat",
      "title": "p95 Completion Latency · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_on_time_p95_seconds{window=\"30d\"}",
      "format": "duration"
    },
    {
      "type": "stat",
      "title": "Slashing-Adjusted Yield · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_slash_adjusted_yield{window=\"7d\"}",
      "format": "percent"
    },
    {
      "type": "stat",
      "title": "Slashing-Adjusted Yield · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_slash_adjusted_yield{window=\"30d\"}",
      "format": "percent"
    },
    {
      "type": "table",
      "title": "Validator Weighted Quality · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_quality{window=\"7d\",dimension=\"validator\"}",
      "columns": [
        { "header": "Validator", "field": "key" },
        { "header": "Score", "field": "value", "format": "decimal" }
      ]
    },
    {
      "type": "table",
      "title": "Slashing-Adjusted Yield by Node · 7d",
      "source": "alpha-wu-subgraph",
      "query": "{ nodeMetricWindows(first: 10, orderBy: slashingAdjustedYield, orderDirection: desc, where: { windowDays: 7 }) { node { id } acceptanceRate slashingAdjustedYield } }",
      "columns": [
        { "header": "Node", "field": "node.id" },
        { "header": "Acceptance", "field": "acceptanceRate", "format": "percent" },
        { "header": "SAY", "field": "slashingAdjustedYield", "format": "decimal" }
      ]
    },
    {
      "type": "table",
      "title": "Slashing-Adjusted Yield by Agent · 7d",
      "source": "alpha-wu-subgraph",
      "query": "{ agentMetricWindows(first: 10, orderBy: slashingAdjustedYield, orderDirection: desc, where: { windowDays: 7 }) { agent { id } acceptanceRate slashingAdjustedYield } }",
      "columns": [
        { "header": "Agent", "field": "agent.id" },
        { "header": "Acceptance", "field": "acceptanceRate", "format": "percent" },
        { "header": "SAY", "field": "slashingAdjustedYield", "format": "decimal" }
      ]
    },
    {
      "type": "line",
      "title": "Acceptance Trend · 30d",
      "source": "alpha-wu-subgraph",
      "query": "{ nodeMetricWindows(where: { windowDays: 30 }, orderBy: updatedAt, orderDirection: desc, first: 30) { node { id } updatedAt acceptanceRate } }",
      "xField": "updatedAt",
      "yField": "acceptanceRate",
      "groupField": "node.id"
    }
  ]
}
