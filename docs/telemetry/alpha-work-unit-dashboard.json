{
  "version": "1.0.0",
  "title": "AGI Alpha Work Unit Observatory",
  "description": "Read-only dashboard blueprint for visualising alpha work unit KPIs across agents, nodes, and validators.",
  "datasources": [
    {
      "type": "prometheus",
      "name": "alpha-node-telemetry",
      "endpoint": "http://alpha-node.local:9464/metrics"
    },
    {
      "type": "subgraph",
      "name": "alpha-wu-subgraph",
      "endpoint": "https://api.thegraph.com/subgraphs/name/agi/alpha-work-units"
    }
  ],
  "widgets": [
    {
      "type": "stat",
      "title": "Acceptance Rate · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_acceptance_rate{window=\"7d\"}",
      "format": "percent",
      "thresholds": {
        "good": 0.8,
        "warn": 0.6
      }
    },
    {
      "type": "stat",
      "title": "Acceptance Rate · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_acceptance_rate{window=\"30d\"}",
      "format": "percent",
      "thresholds": {
        "good": 0.85,
        "warn": 0.65
      }
    },
    {
      "type": "stat",
      "title": "p95 Completion Latency · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_on_time_p95_seconds{window=\"7d\"}",
      "format": "duration"
    },
    {
      "type": "stat",
      "title": "p95 Completion Latency · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_on_time_p95_seconds{window=\"30d\"}",
      "format": "duration"
    },
    {
      "type": "stat",
      "title": "Slashing-Adjusted Yield · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_slash_adjusted_yield{window=\"7d\"}",
      "format": "percent"
    },
    {
      "type": "stat",
      "title": "Slashing-Adjusted Yield · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_slash_adjusted_yield{window=\"30d\"}",
      "format": "percent"
    },
    {
      "type": "table",
      "title": "Validator Weighted Quality",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_quality{window=\"7d\",dimension=\"validator\"}",
      "columns": [
        { "header": "Validator", "field": "key" },
        { "header": "Score", "field": "value", "format": "decimal" }
      ]
    },
    {
      "type": "table",
      "title": "Slash Adjusted Yield by Node · 7d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_breakdown{window=\"7d\",dimension=\"node\",metric=\"slashingAdjustedYield\"}",
      "columns": [
        { "header": "Node", "field": "key" },
        { "header": "Yield", "field": "value", "format": "decimal" }
      ]
    },
    {
      "type": "table",
      "title": "Slash Adjusted Yield by Node · 30d",
      "source": "alpha-node-telemetry",
      "query": "agi_alpha_node_alpha_wu_breakdown{window=\"30d\",dimension=\"node\",metric=\"slashingAdjustedYield\"}",
      "columns": [
        { "header": "Node", "field": "key" },
        { "header": "Yield", "field": "value", "format": "decimal" }
      ]
    },
    {
      "type": "bar",
      "title": "Top Agents by Slashing Adjusted Yield · 7d",
      "source": "alpha-wu-subgraph",
      "query": "{ aggregates(first:10, where:{entityType:\"agent\", windowSeconds:604800}, orderBy: slashingAdjustedYield, orderDirection:desc) { entityId slashingAdjustedYield } }",
      "xField": "entityId",
      "yField": "slashingAdjustedYield"
    },
    {
      "type": "bar",
      "title": "Top Agents by Slashing Adjusted Yield · 30d",
      "source": "alpha-wu-subgraph",
      "query": "{ aggregates(first:10, where:{entityType:\"agent\", windowSeconds:2592000}, orderBy: slashingAdjustedYield, orderDirection:desc) { entityId slashingAdjustedYield } }",
      "xField": "entityId",
      "yField": "slashingAdjustedYield"
    },
    {
      "type": "line",
      "title": "Acceptance Rate Trend · 30d",
      "source": "alpha-wu-subgraph",
      "query": "{ aggregates(where:{entityType:\"node\", windowSeconds:2592000}) { entityId acceptanceRate updatedAt } }",
      "xField": "updatedAt",
      "yField": "acceptanceRate",
      "groupField": "entityId"
    }
  ]
}
